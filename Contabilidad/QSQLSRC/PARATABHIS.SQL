-- -------------------------------------------------------
-- ** Tablas Historicas CABEVI, DETEVI, ASIFILEN
-- Creado por: Ludolfo Montero
-- Fecha: Octubre 2025
-- Notas:
--    *
-- -------------------------------------------------------
DROP TABLE IF EXISTS FICHEROS.CABEVI_HIS_TABLE ; 
  
CREATE TABLE FICHEROS.CABEVI_HIS_TABLE 
    FOR SYSTEM NAME CABEVIHIS
( 
  CDESCR CHAR(50) CCSID 284 NOT NULL DEFAULT '' , 
  CNUAPU CHAR(6) CCSID 284 NOT NULL DEFAULT '' , 
  CFEALT NUMERIC(8, 0) NOT NULL DEFAULT 0 , 
  CFEBAJ NUMERIC(8, 0) NOT NULL DEFAULT 0 , 
  CNUEVI CHAR(6) CCSID 284 NOT NULL DEFAULT '' , 
  CIDMOD CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
  CNAMEENV Char(10) CCSID 284 NOT NULL DEFAULT '',
  FEC_CREA TimeStamp  NOT NULL DEFAULT current_timestamp ,
  USR_CREA Char( 10) NOT NULL DEFAULT '')   
  RCDFMT RCAVEVIHIS     ; 
  
LABEL ON TABLE FICHEROS.CABEVI_HIS_TABLE 
  IS 'Evidencias contables - Cabecera - Historico' ; 
  
LABEL ON COLUMN FICHEROS.CABEVI_HIS_TABLE 
( 
  CDESCR IS 'DESCRIPCION' , 
  CNUAPU IS 'NUMERO APUNTE' , 
  CFEALT IS 'FECHA ENTRADA AMD' , 
  CFEBAJ IS 'FECHA BAJA AMD' , 
  CNUEVI IS 'NUMERO EVIDENCIA' , 
  CNAMEENV IS 'Nombre Ambiente Paralelo' , 
  FEC_CREA IS 'Fecha-Hora' ,
  USR_CREA IS 'Usuario'
) ; 
  
LABEL ON COLUMN FICHEROS.CABEVI_HIS_TABLE 
( 
  CDESCR TEXT IS 'DESCRIPCION' , 
  CNUAPU TEXT IS 'NUMERO APUNTE' , 
  CFEALT TEXT IS 'FECHA ENTRADA AMD' , 
  CFEBAJ TEXT IS 'FECHA BAJA AMD' , 
  CNUEVI TEXT IS 'NUMERO EVIDENCIA' , 
  CIDMOD TEXT IS 'PDTE.MODIFICAR' ,
  CNAMEENV TEXT IS 'Nombre Ambiente Paralelo' , 
  FEC_CREA TEXT IS 'Fecha-Hora' ,
  USR_CREA TEXT IS 'Usuario'
) ; 
  
-- Activacion de Journal
CL: STRJRNPF FILE(FICHEROS/CABEVIHIS) JRN(FICHEROS/DIARIO) IMAGES(*BOTH)  

-- ************************************************************
DROP TABLE IF EXISTS FICHEROS.DETEVI_HIS_TABLE ; 
  
CREATE TABLE FICHEROS.DETEVI_HIS_TABLE 
    FOR SYSTEM NAME DETEVIHIS
( 
  ELINEA CHAR(132) CCSID 284 NOT NULL DEFAULT '' , 
  ENULIN NUMERIC(5, 0) NOT NULL DEFAULT 0 , 
  ENUAPU CHAR(6) CCSID 284 NOT NULL DEFAULT '' , 
  EFEALT NUMERIC(8, 0) NOT NULL DEFAULT 0 , 
  ENUEVI CHAR(6) CCSID 284 NOT NULL DEFAULT '' ,
  ENAMEENV Char(10) CCSID 284 NOT NULL DEFAULT '',
  EFEC_CREA TimeStamp  NOT NULL DEFAULT current_timestamp ,
  EUSR_CREA Char( 10) NOT NULL DEFAULT '')   
  RCDFMT RDETEVIHIS     ; 
  
LABEL ON TABLE FICHEROS.DETEVI_HIS_TABLE 
  IS 'Evidencias contables - Detalle - Historico' ; 
  
LABEL ON COLUMN FICHEROS.DETEVI_HIS_TABLE 
( 
  ELINEA IS 'LINEA DE TEXTO' , 
  ENULIN IS 'NUMERO DE LINEA' , 
  ENUAPU IS 'NUMERO APUNTE' , 
  EFEALT IS 'FECHA ENTRADA AMD' , 
  ENUEVI IS 'NUMERO EVIDENCIA' ,
  ENAMEENV IS 'Nombre Ambiente Paralelo' , 
  EFEC_CREA IS 'Fecha-Hora' ,
  EUSR_CREA IS 'Usuario'
) ; 
  
LABEL ON COLUMN FICHEROS.DETEVI_HIS_TABLE 
( 
  ELINEA TEXT IS 'LINEA DE TEXTO' , 
  ENULIN TEXT IS 'NUMERO DE LINEA' , 
  ENUAPU TEXT IS 'NUMERO APUNTE' , 
  EFEALT TEXT IS 'FECHA ENTRADA AMD' , 
  ENUEVI TEXT IS 'NUMERO EVIDENCIA' ,
  ENAMEENV TEXT IS 'Nombre Ambiente Paralelo' , 
  EFEC_CREA TEXT IS 'Fecha-Hora' ,
  EUSR_CREA TEXT IS 'Usuario'
) ; 
  
-- Activacion de Journal
CL: STRJRNPF FILE(FICHEROS/DETEVIHIS) JRN(FICHEROS/DIARIO) IMAGES(*BOTH)  ;

-- ************************************************************
DROP TABLE IF EXISTS FICHEROS.ASIFILEN_HIS_TABLE ; 
  
CREATE TABLE FICHEROS.ASIFILEN_HIS_TABLE 
    FOR SYSTEM NAME ASIFILENH
( 
  CAPUNT CHAR(6) CCSID 284 NOT NULL DEFAULT '' , 
  CCTAMA CHAR(5) CCSID 284 NOT NULL DEFAULT '' , 
  CCTAFI CHAR(2) CCSID 284 NOT NULL DEFAULT '' , 
  CCTAAU CHAR(5) CCSID 284 NOT NULL DEFAULT '' , 
  CCODIG NUMERIC(3, 0) NOT NULL DEFAULT 0 , 
  CPROGR CHAR(6) CCSID 284 NOT NULL DEFAULT '' , 
  CFECON NUMERIC(8, 0) NOT NULL DEFAULT 0 , 
  CDEHA CHAR(1) CCSID 284 NOT NULL DEFAULT '' , 
  CREFOP CHAR(6) CCSID 284 NOT NULL DEFAULT '' , 
  CFEVTO NUMERIC(8, 0) NOT NULL DEFAULT 0 , 
  CCONCE CHAR(30) CCSID 284 NOT NULL DEFAULT '' , 
  CIMPOR NUMERIC(14, 3) NOT NULL DEFAULT 0 , 
  CMONED CHAR(1) CCSID 284 NOT NULL DEFAULT '' , 
  CPROVI CHAR(6) CCSID 284 NOT NULL DEFAULT '' , 
  CTIPOP NUMERIC(3, 0) NOT NULL DEFAULT 0 , 
  CTIPRO CHAR(1) CCSID 284 NOT NULL DEFAULT '' , 
  CCTANA CHAR(20) CCSID 284 NOT NULL DEFAULT '' , 
  CCODMA CHAR(20) CCSID 284 NOT NULL DEFAULT '' , 
  CREFDE CHAR(20) CCSID 284 NOT NULL DEFAULT '' , 
  CDDEPT CHAR(20) CCSID 284 NOT NULL DEFAULT '' , 
  CDANLT CHAR(20) CCSID 284 NOT NULL DEFAULT '' , 
  CDEBAN CHAR(20) CCSID 284 NOT NULL DEFAULT '' , 
  CDPERS CHAR(20) CCSID 284 NOT NULL DEFAULT '' , 
  CDGFIN CHAR(20) CCSID 284 NOT NULL DEFAULT '' , 
  CDIM06 CHAR(20) CCSID 284 NOT NULL DEFAULT '' , 
  CDIM07 CHAR(20) CCSID 284 NOT NULL DEFAULT '' , 
  CDIM08 CHAR(20) CCSID 284 NOT NULL DEFAULT '' ,
  CDNAMEENV Char(10) CCSID 284 NOT NULL DEFAULT '',
  CDEFEC_CREA TimeStamp  NOT NULL DEFAULT current_timestamp ,
  CDEUSR_CREA Char( 10) NOT NULL DEFAULT '')   
  
  RCDFMT RASIFILEN  ; 
  
LABEL ON TABLE FICHEROS.ASIFILEN_HIS_TABLE 
  IS 'ASIENTOS CONTABLES PARA ACUMULAR - Historico' ; 
  
LABEL ON COLUMN FICHEROS.ASIFILEN_HIS_TABLE 
( CAPUNT IS 'NUMERO APUNTE       ' , 
  CCTAMA IS 'CUENTA DE MAYOR     ' , 
  CCTAFI IS 'FICHERO ASOCIADO    ' , 
  CCTAAU IS 'CUENTA AUXILIAR     ' , 
  CCODIG IS 'CODIGO CONCEPTO     ' , 
  CPROGR IS 'NOMBRE PROG.ALIMENT ' , 
  CFECON IS 'FECHA CONTABLE -DMA-' , 
  CDEHA IS 'D-DEBE, H-HABER     ' , 
  CREFOP IS 'REF.OPERACION       ' , 
  CFEVTO IS 'VENCIMIENTO -DMA-   ' , 
  CCONCE IS 'CONCEPTO' , 
  CIMPOR IS 'IMPORTE' , 
  CMONED IS 'CODIGO MONEDA       ' , 
  CPROVI IS 'APUNTE PROVISIONAL  ' , 
  CTIPOP IS 'TIPO OPERACION      ' , 
  CTIPRO IS 'TIPO DE PROCEDENCIA ' , 
  CCTANA IS 'CUENTA NAVISION     ' , 
  CCODMA IS 'CODIGO DE MAYOR     ' , 
  CREFDE IS 'REFER.DOCUM.EXTERNO ' , 
  CDDEPT IS 'DIMENSION-1         ' , 
  CDANLT IS 'DIMENSION-2         ' , 
  CDEBAN IS 'DIMENSION-3         ' , 
  CDPERS IS 'DIMENSION-4         ' , 
  CDGFIN IS 'DIMENSION-5         ' , 
  CDIM06 IS 'DIMENSION-6         ' , 
  CDIM07 IS 'DIMENSION-7         ' , 
  CDIM08 IS 'DIMENSION-8         ' ,
  CDNAMEENV IS 'Nombre Ambiente Paralelo' , 
  CDEFEC_CREA IS 'Fecha-Hora' ,
  CDEUSR_CREA IS 'Usuario') ; 
  
LABEL ON COLUMN FICHEROS.ASIFILEN_HIS_TABLE 
( CAPUNT TEXT IS 'NUMERO APUNTE' , 
  CCTAMA TEXT IS 'CUENTA DE MAYOR' , 
  CCTAFI TEXT IS 'FICHERO ASOCIADO' , 
  CCTAAU TEXT IS 'CUENTA AUXILIAR' , 
  CCODIG TEXT IS 'CODIGO CONCEPTO' , 
  CPROGR TEXT IS 'NOMBRE PROG.ALIMENT' , 
  CFECON TEXT IS 'FECHA CONTABLE -DMA-' , 
  CDEHA TEXT IS 'D-DEBE, H-HABER' , 
  CREFOP TEXT IS 'REF.OPERACION' , 
  CFEVTO TEXT IS 'VENCIMIENTO -DMA-' , 
  CCONCE TEXT IS 'CONCEPTO' , 
  CIMPOR TEXT IS 'IMPORTE' , 
  CMONED TEXT IS 'CODIGO MONEDA' , 
  CPROVI TEXT IS 'APUNTE PROVISIONAL' , 
  CTIPOP TEXT IS 'TIPO OPERACION' , 
  CTIPRO TEXT IS 'TIPO DE PROCEDENCIA' , 
  CCTANA TEXT IS 'CUENTA NAVISION' , 
  CCODMA TEXT IS 'CODIGO DE MAYOR' , 
  CREFDE TEXT IS 'REFER.DOCUM.EXTERNO' , 
  CDDEPT TEXT IS 'DIMENSION-1' , 
  CDANLT TEXT IS 'DIMENSION-2' , 
  CDEBAN TEXT IS 'DIMENSION-3' , 
  CDPERS TEXT IS 'DIMENSION-4' , 
  CDGFIN TEXT IS 'DIMENSION-5' , 
  CDIM06 TEXT IS 'DIMENSION-6' , 
  CDIM07 TEXT IS 'DIMENSION-7' , 
  CDIM08 TEXT IS 'DIMENSION-8' ,
  CDNAMEENV TEXT IS 'Nombre Ambiente Paralelo' , 
  CDEFEC_CREA TEXT IS 'Fecha-Hora' ,
  CDEUSR_CREA TEXT IS 'Usuario') ; 
  
-- Activacion de Journal
CL: STRJRNPF FILE(FICHEROS/ASIFILENH) JRN(FICHEROS/DIARIO) IMAGES(*BOTH)  ;  

